plugins {
    id 'kode.java-application'
}

application {
    mainClass = 'tools.Executable'
}

startScripts {
    // Rename Application
    applicationName = 'kode'
}

installDist {
    doLast {
        delete {
            for (i in installDist.destinationDir.listFiles()) {
                delete "${rootProject.projectDir}/${i.name}"
            }
        }
        copy {
            from installDist.destinationDir
            into rootProject.projectDir
        }
        delete installDist.destinationDir
    }
}

dependencies {
    implementation project(":engine")

    // https://mvnrepository.com/artifact/info.picocli/picocli
    implementation 'info.picocli:picocli:4.6.1'

    // https://mvnrepository.com/artifact/org.fusesource.jansi/jansi
    implementation 'org.fusesource.jansi:jansi:2.3.4'
}